# ユニット1: タスク作成機能

## ユニット概要

**ユニット名**: タスク作成機能ユニット
**作成日**: 2025-10-22
**担当チーム**: チーム1
**実装順序**: 1番目（最優先）

## 責務と境界

### 主要責務
- タスクの新規作成に関する全機能の提供
- タスク名の入力・バリデーション処理
- タスクデータの永続化
- 作成成功/失敗のユーザーフィードバック

### 機能境界
- **含む**: 新規タスクの作成、基本情報の入力、データ保存
- **含まない**: タスクの表示、編集、削除機能
- **入力**: ユーザーからのタスク作成要求
- **出力**: 作成されたタスクデータ

## 含まれるユーザーストーリー

### US-001: 新しいタスクの追加
**ユーザーストーリー**
> **As a** タスク管理をしたいユーザー（田中美咲）
> **I want** 新しいタスクを簡単に追加したい
> **So that** 思いついたタスクをすぐに記録して忘れないようにできる

**詳細**
- **対象ペルソナ**: 田中美咲（メイン）、佐藤健太（サブ）
- **優先度**: High
- **ストーリーポイント**: 3
- **エピック**: EP-001

**補足**
- タスクの作成は最小限の入力で完了できること
- 操作が直感的で学習コストが低いこと

### US-002: タスクの基本情報入力
**ユーザーストーリー**
> **As a** 営業事務の田中美咲
> **I want** タスク名だけで簡単に登録できるようにしたい
> **So that** 業務中に発生したタスクをすぐに記録できる

**詳細**
- **対象ペルソナ**: 田中美咲（メイン）
- **優先度**: High
- **ストーリーポイント**: 2
- **エピック**: EP-001

**補足**
- 必須項目はタスク名のみとする
- 追加の詳細情報は後から編集できる

### 合計ストーリーポイント: 5SP

## 受け入れ基準

### US-001の受け入れ基準

#### AC-001-01: 正常なタスク作成
**Given** ユーザーがタスク管理アプリの画面を開いている
**When** 「新しいタスクを追加」ボタンをクリックする
**Then** タスク入力フォームが表示される

#### AC-001-02: タスクの保存
**Given** タスク入力フォームが表示されている
**When** タスク名に「会議資料の準備」を入力して「保存」ボタンをクリックする
**Then** 新しいタスクがタスク一覧に追加される
**And** 「タスクが正常に追加されました」の確認メッセージが表示される

#### AC-001-03: 空白タスク名のバリデーション
**Given** タスク入力フォームが表示されている
**When** タスク名を空白のまま「保存」ボタンをクリックする
**Then** 「タスク名は必須です」のエラーメッセージが表示される
**And** タスクは保存されない

### US-002の受け入れ基準

#### AC-002-01: 最小限の入力でタスク作成
**Given** タスク入力フォームが表示されている
**When** タスク名のみを入力して保存する
**Then** タスクが正常に作成される
**And** 他の項目はデフォルト値またはNULLで保存される

#### AC-002-02: タスク名の文字数制限
**Given** タスク入力フォームが表示されている
**When** 100文字を超えるタスク名を入力する
**Then** 「タスク名は100文字以内で入力してください」のエラーメッセージが表示される

#### AC-002-03: 特殊文字の入力
**Given** タスク入力フォームが表示されている
**When** タスク名に「<script>」などの特殊文字を入力する
**Then** 特殊文字がエスケープされて保存される
**And** セキュリティ上の問題が発生しない

## 他ユニットとの依存関係・インターフェース

### 出力インターフェース

#### TaskDataInterface（ユニット2への出力）
**データ構造**:
- taskId: string（一意識別子）
- taskName: string（タスク名）
- createdAt: datetime（作成日時）
- status: string（初期値：「未完了」）

**通信方法**: データ永続化層経由での共有
**更新トリガー**: 新規タスク作成完了時

### 依存関係
- **下流ユニット**: ユニット2（タスク表示機能）
- **依存方向**: ユニット1 → ユニット2
- **依存内容**: 作成されたタスクデータの提供

## 実装時の注意事項

### 技術的考慮事項
1. **データ永続化**: タスクデータの確実な保存機能を実装
2. **バリデーション**: 入力データの検証ロジックを含める
3. **エラーハンドリング**: 保存失敗時の適切なエラー処理
4. **ユーザビリティ**: 直感的で迅速な入力フォームの設計

### 共通受け入れ条件（このユニットに適用）
- **AC-COMMON-02**: わかりやすいエラーメッセージの表示
- **AC-COMMON-03**: データの永続化（ブラウザリフレッシュ後も保持）
- **AC-COMMON-04**: UI/UXの一貫性
- **AC-NFR-03**: セキュリティ（適切なサニタイゼーション）

### 実装優先順位
1. 基本的なタスク作成機能（US-001）
2. 入力バリデーション機能（US-002）
3. エラーハンドリングと通知機能

### チーム引き継ぎ事項
- このユニット完了後、ユニット2（タスク表示機能）の実装が可能になります
- TaskDataInterfaceの仕様を次のチームに正確に伝達してください
- データベース/ストレージ設計は後続ユニットでも使用されるため、拡張性を考慮してください

## 成功指標
- タスク作成成功率: 95%以上
- タスク作成操作完了時間: 30秒以内
- バリデーションエラーの適切な表示: 100%
- データ永続化成功率: 100%